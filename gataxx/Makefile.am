pixmapdir=$(datadir)/pixmaps/gataxx
Gamesdir = $(datadir)/applications
appicondir=$(datadir)/pixmaps

INCLUDES = 			\
	-I$(top_srcdir)/libgames-support \
	-DGNOMELOCALEDIR=\""$(datadir)/locale"\" \
	-DDATADIR=\""$(datadir)"\"		   \
	$(GNOME_GAMES_CFLAGS) \
	-DG_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED \
	-DGDK_DISABLE_DEPRECATED -DGNOME_DISABLE_DEPRECATED

bin_PROGRAMS = gataxx

gataxx_SOURCES = \
	gataxx.c \
	gataxx.h \
	ataxx.c \
	ataxx.h \
	properties.c \
	properties.h

gataxx_LDADD = $(GNOME_GAMES_LIBS) \
	../libgames-support/libgames-support.la

pixmap_DATA = \
	blend.png \
	classic.png \
	flipblend.png \
	metal.png \
	metal2.png \
	shrink.png \
	woodtrim.png \
	sunmoon.png

appicon_DATA = gataxx.png

Games_in_files = gataxx.desktop.in
Games_DATA = $(Games_in_files:.desktop.in=.desktop)
@INTLTOOL_DESKTOP_RULE@

schemadir   = @GCONF_SCHEMA_FILE_DIR@
schema_in_files = gataxx.schemas.in
schema_DATA = $(schema_in_files:.schemas.in=.schemas)
@INTLTOOL_SCHEMAS_RULE@

EXTRA_DIST = AUTHORS \
	gataxx.desktop.in 	\
	gataxx.soundlist.in \
	$(pixmap_DATA)	\
	$(appicon_DATA) \
	$(schema_in_files)

soundlistdir = $(sysconfdir)/sound/events
soundlist_in_files = gataxx.soundlist.in
soundlist_DATA = $(soundlist_in_files:.soundlist.in=.soundlist)
@INTLTOOL_SOUNDLIST_RULE@

SUBDIRS = sounds help

CLEANFILES = $(Games_DATA) $(schema_DATA) $(soundlist_DATA)

install-data-local:
	GCONF_CONFIG_SOURCE=$(GCONF_SCHEMA_CONFIG_SOURCE) $(GCONFTOOL) --makefile-install-rule $(srcdir)/$(schema_DATA)

